import{r as a,j as s,L as d}from"./index-CzWUXMkY.js";const m=a.memo(({direction:e="left",disable:t=!1,onClick:o})=>{const i=a.useCallback(()=>{!t&&o&&o()},[t,o]),l=a.useCallback(r=>{!t&&(r.key==="Enter"||r.key===" ")&&(o==null||o())},[t,o]),n=a.useMemo(()=>["icon-button",e==="left"&&"left",e==="right"&&"right",t&&"disable"].filter(Boolean).join(" "),[e,t]);return s.jsx("div",{className:n,onClick:i,role:"button","aria-disabled":t,tabIndex:t?-1:0,onKeyDown:l})}),h=({data:e})=>{const[t,o]=a.useState(0);a.useEffect(()=>{t>=e.length&&o(0)},[e,t]);const i=a.useCallback(()=>{o(n=>n>0?n-1:n)},[]),l=a.useCallback(()=>{o(n=>n<e.length-1?n+1:n)},[e.length]);return s.jsxs("div",{className:"slider-wrap",children:[s.jsxs("div",{className:"slider__actions",children:[s.jsx(m,{direction:"left",onClick:i,disable:t===0}),s.jsx(m,{direction:"right",onClick:l,disable:t===e.length-1})]}),s.jsx("div",{className:"slider",children:Array.isArray(e)&&e.length>0?e.map((n,r)=>s.jsxs("div",{className:`slide${r===t?" active":""}`,onClick:()=>{o(r)},children:[s.jsx("div",{className:"slide__title",children:n.title}),s.jsx("img",{src:n.img,alt:n.title,loading:"lazy",className:`slide__image${r===t?" active":""}`})]},n.title)):s.jsx("p",{children:"No slides available"})})]})},f=()=>s.jsx("p",{className:"content-text",children:"A luxury car is not just a means of transportation. It is an element of luxury that emphasizes the success and confidence of the owner, reflects his lifestyle. It also provides incomparable comfort on every trip. It's hard to argue that living in a small room in a communal apartment or in a luxurious private house with all the amenities is a completely different experience. The same applies to personal transport."}),x=a.memo(f),j=({title:e})=>s.jsx("h1",{className:"title",children:e}),p=a.memo(j),g=async()=>{const e=await fetch("/CarsSlider/data/sliderData.json");if(!e.ok)throw new Error("Ошибка загрузки слайдера");return(await e.json()).sort(()=>.5-Math.random()).slice(0,4)},y=()=>{const[e,t]=a.useState([]),[o,i]=a.useState(!0),[l,n]=a.useState(null),r=a.useCallback(()=>{g().then(c=>{t(c),n(null),i(!1)}).catch(c=>{n(c.message),i(!1)})},[]);a.useEffect(()=>{r()},[r]);const u=a.useMemo(()=>o?s.jsx(d,{}):l?s.jsxs("p",{children:["Error: ",l]}):s.jsx(h,{data:e}),[o,l,e]);return s.jsxs("div",{className:"content",children:[s.jsx(p,{title:"Luxury cars"}),s.jsx(x,{}),u]})},N=a.memo(y);export{N as default};
